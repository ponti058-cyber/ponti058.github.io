<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Memory Game | Emily Pontinen</title>
   <link rel="stylesheet" href="CSS/styles.css">
   <script src="js/confetti.js" defer></script>
   <style>
       .confetti-container {
           position: fixed;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           pointer-events: none;
           z-index: 9999;
       }

       .confetti {
           position: absolute;
           top: -10px;
           pointer-events: none;
       }

       @keyframes fall {
           0% {
               transform: translateY(-10px) rotate(0deg);
           }
           100% {
               transform: translateY(100vh) rotate(360deg);
           }
       }
       /* Memory Game Styles */
       .memory-game-container {
           max-width: 800px;
           margin: 0 auto;
           padding: 2rem;
       }


       .game-stats {
           display: flex;
           justify-content: space-between;
           margin-bottom: 2rem;
           background: var(--background-white);
           padding: 1.5rem;
           border-radius: 8px;
           box-shadow: var(--shadow);
       }


       .stat {
           text-align: center;
       }


       .stat h3 {
           color: var(--primary-color);
           margin-bottom: 0.5rem;
           font-size: 1rem;
       }


       .stat p {
           font-size: 1.5rem;
           font-weight: bold;
           color: var(--text-dark);
       }


       .game-board {
           display: grid;
           grid-template-columns: repeat(4, 1fr);
           gap: 1rem;
           margin-bottom: 2rem;
           max-width: 600px;
           margin-left: auto;
           margin-right: auto;
       }


       .memory-card {
           aspect-ratio: 1;
           background: var(--background-white);
           border-radius: 8px;
           box-shadow: var(--shadow);
           cursor: pointer;
           transition: all 0.3s ease;
           position: relative;
           overflow: hidden;
       }


       .memory-card:hover {
           transform: translateY(-2px);
           box-shadow: var(--shadow-lg);
       }


       .memory-card.flipped {
           transform: rotateY(180deg);
       }


       .memory-card.matched {
           opacity: 0.7;
           cursor: default;
       }


       .card-front,
       .card-back {
           position: absolute;
           top: 0;
           left: 0;
           width: 100%;
           height: 100%;
           backface-visibility: hidden;
           transition: transform 0.6s;
       }


       .card-front {
           background: #7A0019; /* UMD Maroon */
           display: flex;
           align-items: center;
           justify-content: center;
           color: #FFD700; /* UMD Gold */
           font-size: 2rem;
           font-weight: bold;
           font-family: 'Arial Black', sans-serif;
           content: 'UMD';
       }

       .card-front::before {
           content: 'UMD';
       }


       .card-back {
           transform: rotateY(180deg);
           background-size: cover;
           background-position: center;
       }


       .memory-card.flipped .card-front {
           transform: rotateY(180deg);
       }


       .memory-card.flipped .card-back {
           transform: rotateY(0deg);
       }


       .game-controls {
           text-align: center;
           margin-bottom: 2rem;
       }


       .btn {
           display: inline-block;
           padding: 1rem 2rem;
           border-radius: 50px;
           text-decoration: none;
           font-weight: 600;
           transition: all 0.3s ease;
           border: 2px solid transparent;
           cursor: pointer;
           font-size: 1rem;
           margin: 0.5rem;
           background: none;
       }


       .btn-primary {
           background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
           color: white;
           border: none;
       }


       .btn-primary:hover {
           transform: translateY(-2px);
           box-shadow: var(--shadow-lg);
       }


       .btn-secondary {
           background: transparent;
           color: var(--primary-color);
           border-color: var(--primary-color);
       }


       .btn-secondary:hover {
           background: var(--primary-color);
           color: white;
       }


       .game-message {
           text-align: center;
           padding: 1rem;
           border-radius: 8px;
           margin-bottom: 1rem;
           font-weight: 600;
       }


       .game-message.success {
           background: #d4edda;
           color: #155724;
           border: 1px solid #c3e6cb;
       }


       .game-message.info {
           background: #d1ecf1;
           color: #0c5460;
           border: 1px solid #bee5eb;
       }


       /* Responsive Design */
       @media (max-width: 768px) {
           .game-board {
               grid-template-columns: repeat(3, 1fr);
               gap: 0.5rem;
           }
          
           .game-stats {
               flex-direction: column;
               gap: 1rem;
           }
          
           .memory-game-container {
               padding: 1rem;
           }
       }
   </style>
</head>
<body>
   <!-- Navigation Menu -->
   <nav class="navbar">
       <div class="nav-container">
           <ul class="nav-links">
               <li><a href="index.html">Welcome</a></li>
               <li><a href="home.html">Home</a></li>
               <li><a href="hobbies.html">Hobbies</a></li>
               <li><a href="discover.html">Discover</a></li>
               <li><a href="resume.html">Resume</a></li>
               <li><a href="career.html">Career</a></li>
               <li><a href="game.html">Game</a></li>
           </ul>
       </div>
   </nav>


   <main>
       <header class="page-header">
           <h1>Memory Matching Game</h1>
       </header>


       <div class="memory-game-container">
           <!-- Game Stats -->
           <div class="game-stats">
               <div class="stat">
                   <h3>Moves</h3>
                   <p id="moves">0</p>
               </div>
               <div class="stat">
                   <h3>Matches</h3>
                   <p id="matches">0</p>
               </div>
               <div class="stat">
                   <h3>Time</h3>
                   <p id="timer">00:00</p>
               </div>
           </div>


           <!-- Game Message -->
           <div id="gameMessage" class="game-message" style="display: none;"></div>


           <!-- Game Board -->
           <div id="gameBoard" class="game-board"></div>


           <!-- Game Controls -->
           <div class="game-controls">
               <button id="startGame" class="btn btn-primary">Start New Game</button>
               <button id="shuffleCards" class="btn btn-secondary">Shuffle Cards</button>
           </div>
           <!-- Victory Sound -->
           <audio id="victorySound">
               <source src="media/wearethechampions.mp3" type="audio/mp3">
           </audio>
       </div>


       <section class="content-section">
           <h2>How to Play</h2>
           <div class="grid-container">
               <div class="hobby-card">
                   <h3>üéØ Objective</h3>
                   <p>Find all matching pairs of UMD-themed images! Click on cards to flip them and reveal the images underneath.</p>
               </div>
               <div class="hobby-card">
                   <h3>üéÆ Gameplay</h3>
                   <p>Click two cards to flip them. If they match, they stay flipped. If not, they flip back after a moment.</p>
               </div>
               <div class="hobby-card">
                   <h3>üèÜ Winning</h3>
                   <p>Complete the game by matching all 6 pairs in the fewest moves and shortest time possible!</p>
               </div>
           </div>
       </section>
   </main>


   <footer>
       <p>&copy; 2025 Emily Pontinen. All rights reserved.</p>
   </footer>


   <script>
       // Simple Memory Game
       let gameState = {
           cards: [],
           flippedCards: [],
           matchedPairs: 0,
           moves: 0,
           gameStarted: false,
           gameTime: 0,
           timerInterval: null
       };


       const gameImages = [
           'images/bigchamp.jpeg',
           'images/champ.jpeg.png',
           'images/circleumd.jpeg.png',
           'images/cutemn.jpeg',
           'images/mnumd.jpeg',
           'images/umd.jpeg'
       ];


       function createGame() {
           // Create pairs
           const cardData = [];
           gameImages.forEach((image, index) => {
               cardData.push({ id: index, image: image, pair: index });
               cardData.push({ id: index + 10, image: image, pair: index });
           });

           // Shuffle cards during initial creation
           for (let i = cardData.length - 1; i > 0; i--) {
               const j = Math.floor(Math.random() * (i + 1));
               [cardData[i], cardData[j]] = [cardData[j], cardData[i]];
           }

           gameState.cards = cardData;
           renderCards();
           showMessage('Game ready! Click "Start New Game" to begin.', 'info');
       }


       function renderCards() {
           const gameBoard = document.getElementById('gameBoard');
           gameBoard.innerHTML = '';
          
           gameState.cards.forEach((card, index) => {
               const cardElement = document.createElement('div');
               cardElement.className = 'memory-card';
               cardElement.dataset.pair = card.pair;
               cardElement.dataset.index = index;
              
               cardElement.innerHTML = `
                   <div class="card-front">?</div>
                   <div class="card-back" style="background-image: url('${card.image}')"></div>
               `;
              
               cardElement.addEventListener('click', () => flipCard(cardElement));
               gameBoard.appendChild(cardElement);
           });
       }


       function startNewGame() {
           resetGame();
           gameState.gameStarted = true;
           startTimer();
           showMessage('Game started! Find matching pairs!', 'info');
       }


       function resetGame() {
           gameState.matchedPairs = 0;
           gameState.moves = 0;
           gameState.flippedCards = [];
           gameState.gameStarted = false;
           gameState.gameTime = 0;
          
           if (gameState.timerInterval) {
               clearInterval(gameState.timerInterval);
           }
          
           // Stop victory music if it's playing
           const victorySound = document.getElementById('victorySound');
           if (victorySound) {
               victorySound.pause();
               victorySound.currentTime = 0;
           }
          
           updateStats();
           hideMessage();
          
           // Reset all cards
           document.querySelectorAll('.memory-card').forEach(card => {
               card.classList.remove('flipped', 'matched');
           });
       }


       function shuffleCards() {
           if (!gameState.gameStarted) {
               // Shuffle the cards array
               for (let i = gameState.cards.length - 1; i > 0; i--) {
                   const j = Math.floor(Math.random() * (i + 1));
                   [gameState.cards[i], gameState.cards[j]] = [gameState.cards[j], gameState.cards[i]];
               }
               renderCards();
               showMessage('Cards shuffled!', 'info');
           } else {
               showMessage('Cannot shuffle during game! Start a new game first.', 'info');
           }
       }


       function flipCard(cardElement) {
           if (!gameState.gameStarted || cardElement.classList.contains('flipped') || cardElement.classList.contains('matched')) {
               return;
           }


           cardElement.classList.add('flipped');
           gameState.flippedCards.push(cardElement);


           if (gameState.flippedCards.length === 2) {
               gameState.moves++;
               updateStats();
               checkForMatch();
           }
       }


       function checkForMatch() {
           const [card1, card2] = gameState.flippedCards;
           const pair1 = card1.dataset.pair;
           const pair2 = card2.dataset.pair;


           if (pair1 === pair2) {
               // Match found!
               card1.classList.add('matched');
               card2.classList.add('matched');
               gameState.matchedPairs++;
               updateStats();
              
               if (gameState.matchedPairs === 6) {
                   gameWon();
               }
           } else {
               // No match, flip back after delay
               setTimeout(() => {
                   card1.classList.remove('flipped');
                   card2.classList.remove('flipped');
               }, 1000);
           }


           gameState.flippedCards = [];
       }


       function gameWon() {
           gameState.gameStarted = false;
           clearInterval(gameState.timerInterval);
           const time = formatTime(gameState.gameTime);
           showMessage(`üéâ Congratulations! You won in ${gameState.moves} moves and ${time}!`, 'success');
           
           // Start the confetti celebration
           if (typeof window.startConfetti === 'function') {
               window.startConfetti();
           } else {
               console.error('Confetti animation not loaded');
           }

           // Play victory sound starting at 34 seconds
           const victorySound = document.getElementById('victorySound');
           if (victorySound) {
               victorySound.volume = 0.5; // Set volume to 50%
               victorySound.currentTime = 34; // Start at 34 seconds
               victorySound.play().catch(error => {
                   console.error('Error playing victory sound:', error);
               });
           }
       }


       function startTimer() {
           gameState.timerInterval = setInterval(() => {
               gameState.gameTime++;
               updateStats();
           }, 1000);
       }


       function updateStats() {
           document.getElementById('moves').textContent = gameState.moves;
           document.getElementById('matches').textContent = gameState.matchedPairs;
           document.getElementById('timer').textContent = formatTime(gameState.gameTime);
       }


       function formatTime(seconds) {
           const mins = Math.floor(seconds / 60);
           const secs = seconds % 60;
           return `${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
       }


       function showMessage(text, type) {
           const gameMessage = document.getElementById('gameMessage');
           gameMessage.textContent = text;
           gameMessage.className = `game-message ${type}`;
           gameMessage.style.display = 'block';
       }


       function hideMessage() {
           document.getElementById('gameMessage').style.display = 'none';
       }


       // Initialize the game when the page loads
       document.addEventListener('DOMContentLoaded', () => {
           createGame();
          
           // Set up event listeners
           document.getElementById('startGame').addEventListener('click', startNewGame);
           document.getElementById('shuffleCards').addEventListener('click', shuffleCards);
       });
   </script>
</body>
</html>


